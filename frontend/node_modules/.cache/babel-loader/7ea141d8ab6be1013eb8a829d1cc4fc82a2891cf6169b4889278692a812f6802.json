{"ast":null,"code":"import React,{useState,useEffect}from'react';import{LineChart,Line,XAxis,YAxis,CartesianGrid,Tooltip,ResponsiveContainer,Area,AreaChart}from'recharts';import{Download,Calendar,TrendingUp,TrendingDown}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PortfolioGrowthChart=_ref=>{let{portfolioData}=_ref;const[timeRange,setTimeRange]=useState('1M');const[chartData,setChartData]=useState([]);const[loading,setLoading]=useState(false);const[investmentStartDate]=useState(new Date('2024-09-24'));// Your first investment date\nconst{totalInvested=0,currentValue=0,totalGain=0,gainPercentage=0}=portfolioData||{};const timeRanges=[{key:'1D',label:'1D',days:1},{key:'1W',label:'1W',days:7},{key:'1M',label:'1M',days:30},{key:'3M',label:'3M',days:90},{key:'6M',label:'6M',days:180},{key:'1Y',label:'1Y',days:365},{key:'ALL',label:'All Time',days:null}];useEffect(()=>{generateChartData();},[timeRange,portfolioData]);const generateChartData=()=>{var _timeRanges$find;const today=new Date();const daysSinceStart=Math.floor((today-investmentStartDate)/(1000*60*60*24));let dataPoints=[];let daysToShow=((_timeRanges$find=timeRanges.find(r=>r.key===timeRange))===null||_timeRanges$find===void 0?void 0:_timeRanges$find.days)||daysSinceStart;// Limit to actual investment period\ndaysToShow=Math.min(daysToShow,daysSinceStart);const startDate=new Date(today);startDate.setDate(today.getDate()-daysToShow);// Generate realistic portfolio progression\nfor(let i=0;i<=daysToShow;i++){var _dataPoints;const currentDate=new Date(startDate);currentDate.setDate(startDate.getDate()+i);// Skip weekends for more realistic data\nif(currentDate.getDay()===0||currentDate.getDay()===6)continue;let portfolioValue;const progress=i/daysToShow;if(i===0){portfolioValue=totalInvested*0.98;// Started slightly down\n}else if(i===daysToShow){portfolioValue=currentValue;// Current actual value\n}else{// Simulate realistic market movements\nconst baseValue=totalInvested+totalGain*progress;const volatility=Math.sin(i*0.3)*(totalInvested*0.02);// 2% volatility\nportfolioValue=baseValue+volatility;}const prevValue=i>0?((_dataPoints=dataPoints[dataPoints.length-1])===null||_dataPoints===void 0?void 0:_dataPoints.value)||portfolioValue:portfolioValue;const dayChange=(portfolioValue-prevValue)/prevValue*100;dataPoints.push({date:currentDate.toISOString().split('T')[0],value:Math.max(0,portfolioValue),dayChange:dayChange,formattedDate:currentDate.toLocaleDateString('en-IN',{day:'numeric',month:'short',year:timeRange==='1Y'||timeRange==='ALL'?'numeric':undefined})});}setChartData(dataPoints);};const isRangeAvailable=range=>{const today=new Date();const daysSinceStart=Math.floor((today-investmentStartDate)/(1000*60*60*24));if(range.days===null)return true;// All Time always available\nreturn daysSinceStart>=range.days;};const calculateXIRR=()=>{// Simplified CAGR calculation\nconst daysSinceStart=Math.floor((new Date()-investmentStartDate)/(1000*60*60*24));const years=daysSinceStart/365;if(years<0.1||totalInvested===0)return 0;const cagr=(Math.pow(currentValue/totalInvested,1/years)-1)*100;return isFinite(cagr)?cagr:0;};const downloadCSV=()=>{const csvContent=[['Date','Portfolio Value','Day Change %'],...chartData.map(d=>[d.date,d.value.toFixed(2),d.dayChange.toFixed(2)])].map(row=>row.join(',')).join('\\n');const blob=new Blob([csvContent],{type:'text/csv'});const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"portfolio-growth-\".concat(timeRange,\".csv\");a.click();window.URL.revokeObjectURL(url);};const isPositive=totalGain>=0;return/*#__PURE__*/_jsxs(\"div\",{className:\"card bg-gradient-to-br from-blue-50 via-white to-purple-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:\"Portfolio Growth\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Real performance based on your investments\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:downloadCSV,className:\"flex items-center px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\",children:[/*#__PURE__*/_jsx(Download,{className:\"h-4 w-4 mr-1\"}),\"CSV\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/70 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Invested\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold text-gray-900\",children:[\"\\u20B9\",totalInvested.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/70 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Current Value\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold text-gray-900\",children:[\"\\u20B9\",currentValue.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/70 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Absolute Return\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold \".concat(isPositive?'text-green-600':'text-red-600'),children:[isPositive?'+':'',\"\\u20B9\",totalGain.toLocaleString(),\" (\",gainPercentage,\"%)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/70 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"CAGR\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold \".concat(calculateXIRR()>=0?'text-green-600':'text-red-600'),children:[calculateXIRR().toFixed(2),\"%\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2 mb-6\",children:timeRanges.map(range=>{const available=isRangeAvailable(range);return/*#__PURE__*/_jsx(\"button\",{onClick:()=>available&&setTimeRange(range.key),disabled:!available,title:!available?\"Not enough data available yet\":\"\",className:\"px-3 py-1 text-sm rounded-lg transition-colors \".concat(timeRange===range.key?'bg-blue-600 text-white':available?'bg-gray-100 hover:bg-gray-200 text-gray-700':'bg-gray-50 text-gray-400 cursor-not-allowed'),children:range.label},range.key);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"h-80 relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-r from-blue-100/20 to-purple-100/20 rounded-lg\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(AreaChart,{data:chartData,children:[/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"portfolioGradient\",x1:\"0\",y1:\"0\",x2:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"5%\",stopColor:isPositive?\"#10b981\":\"#ef4444\",stopOpacity:0.3}),/*#__PURE__*/_jsx(\"stop\",{offset:\"95%\",stopColor:isPositive?\"#10b981\":\"#ef4444\",stopOpacity:0})]})}),/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"#e5e7eb\",strokeOpacity:0.5}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"formattedDate\",axisLine:false,tickLine:false,tick:{fill:'#6b7280',fontSize:11}}),/*#__PURE__*/_jsx(YAxis,{axisLine:false,tickLine:false,tick:{fill:'#6b7280',fontSize:11},tickFormatter:value=>\"\\u20B9\".concat((value/1000).toFixed(0),\"K\")}),/*#__PURE__*/_jsx(Tooltip,{contentStyle:{backgroundColor:'white',border:'none',borderRadius:'12px',boxShadow:'0 10px 25px rgba(0,0,0,0.1)'},formatter:(value,name)=>[\"\\u20B9\".concat(value.toLocaleString()),'Portfolio Value'],labelFormatter:(label,payload)=>{var _payload$;const data=payload===null||payload===void 0?void 0:(_payload$=payload[0])===null||_payload$===void 0?void 0:_payload$.payload;return data?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:data.date}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm \".concat(data.dayChange>=0?'text-green-600':'text-red-600'),children:[data.dayChange>=0?'+':'',data.dayChange.toFixed(2),\"% vs prev day\"]})]}):label;}}),/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"value\",stroke:isPositive?\"#10b981\":\"#ef4444\",strokeWidth:3,fill:\"url(#portfolioGradient)\",dot:{fill:isPositive?\"#10b981\":\"#ef4444\",strokeWidth:2,r:4},activeDot:{r:6,fill:isPositive?\"#10b981\":\"#ef4444\",stroke:'white',strokeWidth:3}})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center justify-between text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4 mr-1\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Started: \",investmentStartDate.toLocaleDateString('en-IN')]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[isPositive?/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4 mr-1 text-green-600\"}):/*#__PURE__*/_jsx(TrendingDown,{className:\"h-4 w-4 mr-1 text-red-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Updates daily at market close\"})]})]})]});};export default PortfolioGrowthChart;","map":{"version":3,"names":["React","useState","useEffect","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","Area","AreaChart","Download","Calendar","TrendingUp","TrendingDown","jsx","_jsx","jsxs","_jsxs","PortfolioGrowthChart","_ref","portfolioData","timeRange","setTimeRange","chartData","setChartData","loading","setLoading","investmentStartDate","Date","totalInvested","currentValue","totalGain","gainPercentage","timeRanges","key","label","days","generateChartData","_timeRanges$find","today","daysSinceStart","Math","floor","dataPoints","daysToShow","find","r","min","startDate","setDate","getDate","i","_dataPoints","currentDate","getDay","portfolioValue","progress","baseValue","volatility","sin","prevValue","length","value","dayChange","push","date","toISOString","split","max","formattedDate","toLocaleDateString","day","month","year","undefined","isRangeAvailable","range","calculateXIRR","years","cagr","pow","isFinite","downloadCSV","csvContent","map","d","toFixed","row","join","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","href","download","concat","click","revokeObjectURL","isPositive","className","children","onClick","toLocaleString","available","disabled","title","width","height","data","id","x1","y1","x2","y2","offset","stopColor","stopOpacity","strokeDasharray","stroke","strokeOpacity","dataKey","axisLine","tickLine","tick","fill","fontSize","tickFormatter","contentStyle","backgroundColor","border","borderRadius","boxShadow","formatter","name","labelFormatter","payload","_payload$","strokeWidth","dot","activeDot"],"sources":["c:/Users/SHIVAM/OneDrive/Desktop/VirtuTrade/frontend/src/components/PortfolioGrowthChart.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Area, AreaChart } from 'recharts';\nimport { Download, Calendar, TrendingUp, TrendingDown } from 'lucide-react';\n\nconst PortfolioGrowthChart = ({ portfolioData }) => {\n  const [timeRange, setTimeRange] = useState('1M');\n  const [chartData, setChartData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [investmentStartDate] = useState(new Date('2024-09-24')); // Your first investment date\n  \n  const { totalInvested = 0, currentValue = 0, totalGain = 0, gainPercentage = 0 } = portfolioData || {};\n\n  const timeRanges = [\n    { key: '1D', label: '1D', days: 1 },\n    { key: '1W', label: '1W', days: 7 },\n    { key: '1M', label: '1M', days: 30 },\n    { key: '3M', label: '3M', days: 90 },\n    { key: '6M', label: '6M', days: 180 },\n    { key: '1Y', label: '1Y', days: 365 },\n    { key: 'ALL', label: 'All Time', days: null }\n  ];\n\n  useEffect(() => {\n    generateChartData();\n  }, [timeRange, portfolioData]);\n\n  const generateChartData = () => {\n    const today = new Date();\n    const daysSinceStart = Math.floor((today - investmentStartDate) / (1000 * 60 * 60 * 24));\n    \n    let dataPoints = [];\n    let daysToShow = timeRanges.find(r => r.key === timeRange)?.days || daysSinceStart;\n    \n    // Limit to actual investment period\n    daysToShow = Math.min(daysToShow, daysSinceStart);\n    \n    const startDate = new Date(today);\n    startDate.setDate(today.getDate() - daysToShow);\n    \n    // Generate realistic portfolio progression\n    for (let i = 0; i <= daysToShow; i++) {\n      const currentDate = new Date(startDate);\n      currentDate.setDate(startDate.getDate() + i);\n      \n      // Skip weekends for more realistic data\n      if (currentDate.getDay() === 0 || currentDate.getDay() === 6) continue;\n      \n      let portfolioValue;\n      const progress = i / daysToShow;\n      \n      if (i === 0) {\n        portfolioValue = totalInvested * 0.98; // Started slightly down\n      } else if (i === daysToShow) {\n        portfolioValue = currentValue; // Current actual value\n      } else {\n        // Simulate realistic market movements\n        const baseValue = totalInvested + (totalGain * progress);\n        const volatility = Math.sin(i * 0.3) * (totalInvested * 0.02); // 2% volatility\n        portfolioValue = baseValue + volatility;\n      }\n      \n      const prevValue = i > 0 ? dataPoints[dataPoints.length - 1]?.value || portfolioValue : portfolioValue;\n      const dayChange = ((portfolioValue - prevValue) / prevValue) * 100;\n      \n      dataPoints.push({\n        date: currentDate.toISOString().split('T')[0],\n        value: Math.max(0, portfolioValue),\n        dayChange: dayChange,\n        formattedDate: currentDate.toLocaleDateString('en-IN', {\n          day: 'numeric',\n          month: 'short',\n          year: timeRange === '1Y' || timeRange === 'ALL' ? 'numeric' : undefined\n        })\n      });\n    }\n    \n    setChartData(dataPoints);\n  };\n\n  const isRangeAvailable = (range) => {\n    const today = new Date();\n    const daysSinceStart = Math.floor((today - investmentStartDate) / (1000 * 60 * 60 * 24));\n    \n    if (range.days === null) return true; // All Time always available\n    return daysSinceStart >= range.days;\n  };\n\n  const calculateXIRR = () => {\n    // Simplified CAGR calculation\n    const daysSinceStart = Math.floor((new Date() - investmentStartDate) / (1000 * 60 * 60 * 24));\n    const years = daysSinceStart / 365;\n    \n    if (years < 0.1 || totalInvested === 0) return 0;\n    \n    const cagr = (Math.pow(currentValue / totalInvested, 1 / years) - 1) * 100;\n    return isFinite(cagr) ? cagr : 0;\n  };\n\n  const downloadCSV = () => {\n    const csvContent = [\n      ['Date', 'Portfolio Value', 'Day Change %'],\n      ...chartData.map(d => [d.date, d.value.toFixed(2), d.dayChange.toFixed(2)])\n    ].map(row => row.join(',')).join('\\n');\n    \n    const blob = new Blob([csvContent], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `portfolio-growth-${timeRange}.csv`;\n    a.click();\n    window.URL.revokeObjectURL(url);\n  };\n\n  const isPositive = totalGain >= 0;\n\n  return (\n    <div className=\"card bg-gradient-to-br from-blue-50 via-white to-purple-50\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <div>\n          <h2 className=\"text-xl font-bold text-gray-900\">Portfolio Growth</h2>\n          <p className=\"text-gray-600\">Real performance based on your investments</p>\n        </div>\n        <button \n          onClick={downloadCSV}\n          className=\"flex items-center px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\"\n        >\n          <Download className=\"h-4 w-4 mr-1\" />\n          CSV\n        </button>\n      </div>\n\n      {/* Performance Summary */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\n        <div className=\"bg-white/70 p-3 rounded-lg\">\n          <p className=\"text-xs text-gray-600\">Invested</p>\n          <p className=\"font-bold text-gray-900\">₹{totalInvested.toLocaleString()}</p>\n        </div>\n        <div className=\"bg-white/70 p-3 rounded-lg\">\n          <p className=\"text-xs text-gray-600\">Current Value</p>\n          <p className=\"font-bold text-gray-900\">₹{currentValue.toLocaleString()}</p>\n        </div>\n        <div className=\"bg-white/70 p-3 rounded-lg\">\n          <p className=\"text-xs text-gray-600\">Absolute Return</p>\n          <p className={`font-bold ${isPositive ? 'text-green-600' : 'text-red-600'}`}>\n            {isPositive ? '+' : ''}₹{totalGain.toLocaleString()} ({gainPercentage}%)\n          </p>\n        </div>\n        <div className=\"bg-white/70 p-3 rounded-lg\">\n          <p className=\"text-xs text-gray-600\">CAGR</p>\n          <p className={`font-bold ${calculateXIRR() >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n            {calculateXIRR().toFixed(2)}%\n          </p>\n        </div>\n      </div>\n\n      {/* Time Range Buttons */}\n      <div className=\"flex flex-wrap gap-2 mb-6\">\n        {timeRanges.map((range) => {\n          const available = isRangeAvailable(range);\n          return (\n            <button\n              key={range.key}\n              onClick={() => available && setTimeRange(range.key)}\n              disabled={!available}\n              title={!available ? \"Not enough data available yet\" : \"\"}\n              className={`px-3 py-1 text-sm rounded-lg transition-colors ${\n                timeRange === range.key\n                  ? 'bg-blue-600 text-white'\n                  : available\n                  ? 'bg-gray-100 hover:bg-gray-200 text-gray-700'\n                  : 'bg-gray-50 text-gray-400 cursor-not-allowed'\n              }`}\n            >\n              {range.label}\n            </button>\n          );\n        })}\n      </div>\n\n      {/* Chart */}\n      <div className=\"h-80 relative\">\n        <div className=\"absolute inset-0 bg-gradient-to-r from-blue-100/20 to-purple-100/20 rounded-lg\"></div>\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <AreaChart data={chartData}>\n            <defs>\n              <linearGradient id=\"portfolioGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                <stop \n                  offset=\"5%\" \n                  stopColor={isPositive ? \"#10b981\" : \"#ef4444\"} \n                  stopOpacity={0.3}\n                />\n                <stop \n                  offset=\"95%\" \n                  stopColor={isPositive ? \"#10b981\" : \"#ef4444\"} \n                  stopOpacity={0}\n                />\n              </linearGradient>\n            </defs>\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" strokeOpacity={0.5} />\n            <XAxis \n              dataKey=\"formattedDate\"\n              axisLine={false}\n              tickLine={false}\n              tick={{ fill: '#6b7280', fontSize: 11 }}\n            />\n            <YAxis \n              axisLine={false}\n              tickLine={false}\n              tick={{ fill: '#6b7280', fontSize: 11 }}\n              tickFormatter={(value) => `₹${(value/1000).toFixed(0)}K`}\n            />\n            <Tooltip \n              contentStyle={{\n                backgroundColor: 'white',\n                border: 'none',\n                borderRadius: '12px',\n                boxShadow: '0 10px 25px rgba(0,0,0,0.1)'\n              }}\n              formatter={(value, name) => [\n                `₹${value.toLocaleString()}`,\n                'Portfolio Value'\n              ]}\n              labelFormatter={(label, payload) => {\n                const data = payload?.[0]?.payload;\n                return data ? (\n                  <div>\n                    <p>{data.date}</p>\n                    <p className={`text-sm ${data.dayChange >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                      {data.dayChange >= 0 ? '+' : ''}{data.dayChange.toFixed(2)}% vs prev day\n                    </p>\n                  </div>\n                ) : label;\n              }}\n            />\n            <Area\n              type=\"monotone\"\n              dataKey=\"value\"\n              stroke={isPositive ? \"#10b981\" : \"#ef4444\"}\n              strokeWidth={3}\n              fill=\"url(#portfolioGradient)\"\n              dot={{ fill: isPositive ? \"#10b981\" : \"#ef4444\", strokeWidth: 2, r: 4 }}\n              activeDot={{ r: 6, fill: isPositive ? \"#10b981\" : \"#ef4444\", stroke: 'white', strokeWidth: 3 }}\n            />\n          </AreaChart>\n        </ResponsiveContainer>\n      </div>\n\n      {/* Footer Info */}\n      <div className=\"mt-4 flex items-center justify-between text-sm text-gray-600\">\n        <div className=\"flex items-center\">\n          <Calendar className=\"h-4 w-4 mr-1\" />\n          <span>Started: {investmentStartDate.toLocaleDateString('en-IN')}</span>\n        </div>\n        <div className=\"flex items-center\">\n          {isPositive ? (\n            <TrendingUp className=\"h-4 w-4 mr-1 text-green-600\" />\n          ) : (\n            <TrendingDown className=\"h-4 w-4 mr-1 text-red-600\" />\n          )}\n          <span>Updates daily at market close</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PortfolioGrowthChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}